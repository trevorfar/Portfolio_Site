{% extends 'base.html' %}

{% block title %} Calculator {% endblock %}

{% block content %}
<script src="{{ url_for('static', filename='java/calculatorScript.js') }}"></script>
<link rel="stylesheet" href="{{ url_for('static', filename='css/calculator.css') }}">

<div class="container mt-4">
    <div class="row">
        <!-- Description Container (Left Column) -->
        <div class="col-md-6 mb-4">
            <div class="description-container p-4">
                <h3>Calculator Application</h3>
                <p>
                    This calculator operates through the management of three dynamic variables:
                <ul>
                    <li>A list for storing prior user inputs.</li>
                    <li>A list for holding previous results.</li>
                    <li>An updating list responsible for displaying the expression on the screen.</li>
                </ul>
                User input is acquired through interactive HTML buttons, which are responsible for altering the ongoing
                expression. This expression is then sent to the backend for processing, with the result being shown on
                the text-area display.
                </p>
            </div>
        </div>

        <!-- Calculator Form (Right Column) -->
        <div class="col-md-6">
            <div id="Calculator">
                <form id="CalculatorForm" action="/calculate" method="post">
                    <textarea name="expression" id="display" readonly style="text-align: right">
                            {{ expression }}
                            {{ "Error: Invalid Expression" if result == "Invalid Expression" else result }}
                        </textarea>

                    <button type="button" onclick="clearExpression()">C</button>
                    <button type="button" onclick="appendToExpression('**')">exp</button>
                    <button type="button" onclick="appendToExpression('%')">mod</button>
                    <button type="button" onclick="appendToExpression('/')">/</button>
                    <button type="button" onclick="appendToExpression('7')">7</button>
                    <button type="button" onclick="appendToExpression('8')">8</button>
                    <button type="button" onclick="appendToExpression('9')">9</button>
                    <button type="button" onclick="appendToExpression('*')">*</button>
                    <button type="button" onclick="appendToExpression('4')">4</button>
                    <button type="button" onclick="appendToExpression('5')">5</button>
                    <button type="button" onclick="appendToExpression('6')">6</button>
                    <button type="button" onclick="appendToExpression('-')">-</button>
                    <button type="button" onclick="appendToExpression('1')">1</button>
                    <button type="button" onclick="appendToExpression('2')">2</button>
                    <button type="button" onclick="appendToExpression('3')">3</button>
                    <button type="button" onclick="appendToExpression('+')">+</button>
                    <button type="button" onclick="appendToExpression('0')">0</button>
                    <button type="button" onclick="appendToExpression('.')">.</button>
                    <button type="button" onclick="remFromExpression()">del</button>
                    <button type="submit">=</button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}